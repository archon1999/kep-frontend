<div class="layout-spacing">
  <kep-card>
    <div class="card-header">
      <div class="card-title">
        <span><i data-feather="info"></i></span>
        {{ 'Info' | translate }}
      </div>

      <div class="sidebar-type">
        <button
          rippleEffect
          class="btn btn-sm btn-primary bg-primary"
          (click)="openStatisticsModal(statisticsModal)">
          {{ 'Statistics' | translate }}
        </button>
      </div>
    </div>
    <div class="card-body">
      <problem-info-card [problem]="problem"></problem-info-card>
    </div>
  </kep-card>
</div>

<ng-template #statisticsModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{ 'Statistics' | translate }}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
  </div>
  <div class="modal-body">
    @if (isStatisticsLoading) {
      <div class="d-flex justify-content-center py-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">{{ 'Loading' | translate }}</span>
        </div>
      </div>
    } @else if (statistics) {
      <problem-sidebar-statistics
        [problem]="problem"
        [statistics]="statistics"
      ></problem-sidebar-statistics>
      <div class="mt-3">
        <problem-sidebar-top-attempts [topAttempts]="statistics.topAttempts"></problem-sidebar-top-attempts>
      </div>
    } @else {
      <div class="text-center text-muted py-4">
        {{ 'NoData' | translate }}
      </div>
    }
  </div>
</ng-template>
