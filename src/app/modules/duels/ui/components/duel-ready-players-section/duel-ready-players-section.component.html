<kep-card>
  <div class="card-header">
    <div class="card-title">
      {{ 'DuelReadyPlayersTitle' | translate }}
      @if (total) {
        <span class="total-count">({{ total }})</span>
      }
    </div>
  </div>

  <div class="card-body">
    <div class="row g-3">
      @if (loading) {
        <div class="col-12 d-flex justify-content-center py-3">
          <spinner></spinner>
        </div>
      } @else if (hasPlayers) {
        @for (player of players; track trackPlayer($index, player)) {
          <div class="col-xl-3 col-md-4 col-sm-6">
            <duel-ready-player-card
              [player]="player"
              [disabled]="isChallengeDisabled(player)"
              (challenge)="onChallenge(player)"
            />
          </div>
        }
      } @else {
        <div class="col-12">
          <empty-result [title]="'NoReadyPlayers' | translate" [text]="''"></empty-result>
        </div>
      }
    </div>

    @if (showPagination) {
      <div class="mt-3">
        <kep-pagination
          [collectionSize]="total"
          [page]="page"
          [pageSize]="pageSize"
          [maxSize]="5"
          [rotate]="true"
          [disabled]="loading"
          [color]="'primary'"
          (pageChange)="onPageChange($event)"
        ></kep-pagination>
      </div>
    }
  </div>
</kep-card>
