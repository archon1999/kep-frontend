<kep-card>
  <div class="card-header">
    <div class="card-title">
      {{ titleKey | translate }}
      @if (total) {
        <span class="total-count">({{ total }})</span>
      }
    </div>
  </div>

  <div class="card-body">
    @if (loading) {
      <div class="col-12 d-flex justify-content-center py-3">
        <spinner></spinner>
      </div>
    } @else if (hasDuels) {
      @for (duel of duels; track trackDuel($index, duel)) {
        <div class="col-12">
          <duels-list-card
            [duel]="duel"
            [viewLink]="Resources.Duel | resourceById:duel.id"
            [confirmAvailable]="isConfirmAvailable(duel)"
            [confirmDisabled]="isConfirmLoading(duel)"
            [confirmLoading]="isConfirmLoading(duel)"
            (confirm)="onConfirm(duel)"
          ></duels-list-card>
        </div>
      }
    } @else {
      <div class="col-12">
        <empty-result [title]="'NoDuelsYet' | translate" [text]="''"></empty-result>
      </div>
    }
  </div>

  <div class="mt-3">
    <kep-pagination
      [collectionSize]="total"
      [page]="page"
      [pageSize]="pageSize"
      [maxSize]="5"
      [rotate]="true"
      [disabled]="loading"
      [color]="'primary'"
      (pageChange)="onPageChange($event)"
    ></kep-pagination>
  </div>
</kep-card>
