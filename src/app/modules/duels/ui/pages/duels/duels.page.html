<div class="content-wrapper container-xxl p-0">
  <div class="content-body duels-page">
    <app-content-header [contentHeader]="contentHeader">
      <div class="btn-list">
        <a
          [ngClass.lt-md]="'btn-sm'"
          class="btn btn-primary-light"
          [routerLink]="['/practice', 'duels', 'rating']"
        >
          <kep-icon class="font-medium-1" name="ranking"></kep-icon>
          <span [ngClass.lt-md]="'d-none'">
            {{ 'Rating' | translate }}
          </span>
        </a>
      </div>
    </app-content-header>

    <div class="row">
      <div class="col-12">
        <duel-ready-status-card
          [isReady]="isReady"
          [disabled]="readyStatusLoading"
          (readyChange)="onReadyStatusChange($event)"
        ></duel-ready-status-card>
      </div>

      <div class="col-12">
        <duel-ready-players-section
          [players]="readyPlayersResult?.data ?? []"
          [total]="readyPlayersTotal"
          [page]="readyPlayersPage"
          [pageSize]="readyPlayersPageSize"
          [loading]="readyPlayersLoading"
          [currentUsername]="currentUser?.username ?? null"
          (pageChange)="loadReadyPlayers($event)"
          (challenge)="openDuelModal($event)"
        />
      </div>

      <div class="col-12 col-xl-6">
        <duels-list-section
          [duels]="duelsResult?.data ?? []"
          [total]="duelsTotal"
          [page]="duelsPage"
          [pageSize]="duelsPageSize"
          [loading]="duelsLoading"
          [confirmLoadingId]="confirmLoadingId"
          [currentUsername]="currentUser?.username ?? null"
          (pageChange)="loadDuels($event)"
          (confirm)="confirmDuel($event)"
        />
      </div>

      <div class="col-12 col-xl-6">
        <duels-list-section
          titleKey="AllDuels"
          [duels]="allDuelsResult?.data ?? []"
          [total]="allDuelsTotal"
          [page]="allDuelsPage"
          [pageSize]="allDuelsPageSize"
          [loading]="allDuelsLoading"
          [confirmLoadingId]="confirmLoadingId"
          [currentUsername]="currentUser?.username ?? null"
          (pageChange)="loadAllDuels($event)"
          (confirm)="confirmDuel($event)"
        />
      </div>
    </div>
  </div>
</div>

